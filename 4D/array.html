<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

	<title>Array in Javascript</title>
</head>
<body>

	<div class="container">
		<div class="row">

	<h2>Javascript Array</h2>

	<div class="col">
		<h3>Enter Name</h3>
	
		<div id="form">
			
			<div class="mb-3">
				<label for="name" class="form-label">Enter Name</label>
				<input type="text" class="form-control" id="nama" required>
				
			</div>
			<input type="button" class="btn btn-primary" id="tambah" value="Tambah" onclick="tambahNama()">

		</div>

		<h3>Food Ordering System</h3>

		<div class="mb-3 row">
			<label for="item" class="col-sm-2 col-form-label">Item</label>
			<div class="col-sm-10">
			  <input type="text" class="form-control" id="item" required>
			</div>
		  </div>
		 
		  <div class="mb-3 row">
			<label for="price" class="col-sm-2 col-form-label">Price per unit</label>
			<div class="col-sm-10">
			  <input type="number" class="form-control" id="price" step="0.01" required>
			</div>
		  </div>

		  <div class="mb-3 row">
			<label for="Quantity" class="col-sm-2 col-form-label">Quantity</label>
			<div class="col-sm-10">
			  <input type="number" class="form-control" id="quantity" step="0.01" required>
			</div>
		  </div>

		<p><input type="button" class="btn btn-primary" id="tambah" value="Add to cart" onclick="addToCart()"></p>

		</div>
		<div class="col">
		<h3>Output</h3>
		
			<span id="output"></span>	
			<hr>
			<h3>Cart</h3>
		
	<span id="outputcart"></span>	
	<span id="grandtotal"></span>	
	
	
	</div>
		
		<div class="clear"></div>

	</div></div>

</body>

<script>
let nama_output = [];
let cart = [];

	function tambahNama() {
		let nama = document.getElementById("nama").value;
		
		nama_output.push(nama);

		document.getElementById("output").innerHTML = '<ul><li>' + nama_output.join("</li><li>"); + '</li></ul>';
	
		nama_output.forEach(element => {
			console.log(nama_output);
		});

	}

	

	function addToCart() {

		let item_user = document.getElementById("item").value;
		let price_user = document.getElementById("price").value;
		let quantity_user = document.getElementById("quantity").value;

		if (item_user.length==0 || price_user.length == 0 || quantity_user == 0) {
			alert("Please fill all the field before click add to cart");
			return false;
		}

		cart.push({ key: 'item', value: item_user });
		cart.push({ key: 'price', value: price_user });
		cart.push({ key: 'quantity', value: quantity_user });

		let cartBulk = "<table class='table table-bordered'><tr><th>Item</th><th>Price</th><th>Quantity</th><th>Total</th></tr>";
		let grandTotal = 0; 

		for (let i = 0; i < cart.length; i += 3) {
			let price = parseFloat(cart[i + 1].value);
			let quantity = parseInt(cart[i + 2].value);
			let total = price * quantity;
			grandTotal += total;
			

			cartBulk += "<tr><td>" + cart[i].value + "</td><td>" 
						+ cart[i + 1].value + "</td><td>" 
						+ cart[i + 2].value + "</td><td>"
						+ total + "</td></tr>";
					
			}
		cartBulk += "</table>";

// Display elements in the HTML output
document.getElementById("outputcart").innerHTML = cartBulk;
document.getElementById("grandtotal").innerHTML = "<h3 align='right'>Jumlah : RM " + grandTotal + "</h3>";

document.getElementById("item").value = "";
	document.getElementById("price").value = "";
		document.getElementById("quantity").value="";


	}




</script>
	
</html>